(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{103:function(e,t,n){e.exports={paginator:"Paginator_paginator__2bwI3",pageNumber:"Paginator_pageNumber__q7ARx",selectedPage:"Paginator_selectedPage__DIX1D"}},126:function(e,t,n){e.exports={title:"Friends_title__1VAp2",wrapper:"Friends_wrapper__2U20U"}},127:function(e,t,n){e.exports={header:"Header_header__2ihrn",loginBlock:"Header_loginBlock__31t7L"}},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return _}));var r=n(10),a=n.n(r),c=n(25),i=n(14),s=n(5),o=n(23),u="ADD-POST-IN-STATE",l="SET_USER_PROFILE",d="SET_STATUS",j="DELETE_POST",b="SAVE_PHOTO_SUCCESS",f="ADD_SOME_ERROR",p={posts:[{id:0,message:"Hi, how are you?",likesCount:12},{id:1,message:"I am okey, and you?",likesCount:2},{id:2,message:"what?",likesCount:4},{id:3,message:"nigga?",likesCount:55}],profile:null,status:"",someError:""},h=function(e){return{type:u,description:e}},O=function(e){return{type:d,status:e}},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:l,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:r=t.sent,n(O(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(O(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:b,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.userId,t.next=3,o.b.saveProfile(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}n(m(c)),t.next=10;break;case 8:return n((a=i.data.messages[0],{type:f,someError:a})),t.abrupt("return",Promise.reject(i.data.messages[0]));case 10:case"end":return t.stop()}var a}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:8,message:t.description,likesCount:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});case l:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case d:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case j:return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case b:return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});case f:return Object(s.a)(Object(s.a)({},e),{},{someError:t.someError});default:return e}}},170:function(e,t,n){e.exports={formSummaryError:"FormikComponents_formSummaryError__N_q1X"}},174:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(14),a=n(5),c="ADD-MESSAGE-IN-STATE",i={dialogs:[{id:0,name:"Dymich",image:"https://i.pinimg.com/originals/ed/09/16/ed0916a8c0d1d29b4fb90d02af33bc09.png"},{id:1,name:"Andrey",image:"https://i.pinimg.com/originals/60/06/36/600636cf543b2730eeffb634199db706.jpg"},{id:2,name:"Sveta",image:"https://steamuserimages-a.akamaihd.net/ugc/958596576368807294/2CDA31196125EAE96EC9C65EEF847A60508D48AB/"},{id:3,name:"Sasha",image:"https://i.pinimg.com/originals/30/24/f8/3024f8d283b734bd6b7e4fc5531fe2e9.png"},{id:4,name:"Victor",image:"https://i.pinimg.com/originals/9d/c9/5e/9dc95eaf0ddc72fd8a9bcbd6e572c201.png"},{id:5,name:"Valera",image:"https://st3.depositphotos.com/1007566/13024/v/950/depositphotos_130240748-stock-illustration-young-man-avatar-character.jpg"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you, nigga?"},{id:3,message:"What are you saying white?"},{id:4,message:"It`s a joke"},{id:5,message:"You are died"}]},s=function(e){return{type:c,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:t.newMessageBody}])});default:return e}}},178:function(e,t,n){e.exports={image:"Friend_image__34Doh"}},180:function(e,t,n){e.exports={preloader_wrapper:"Preloader_preloader_wrapper__1actJ"}},186:function(e,t,n){e.exports={errorInField:"Login_errorInField__2RviI"}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(5),a=n(8),c=n(9),i=n(17),s=n(18),o=n(0),u=n.n(o),l=n(31),d=n(13),j=n(1),b=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(i.a)(o,t);var n=Object(s.a)(o);function o(){return Object(a.a)(this,o),n.apply(this,arguments)}return Object(c.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(r.a)({},this.props)):Object(j.jsx)(d.a,{to:"/login"})}}]),o}(u.a.Component);return Object(l.b)(b)(t)}},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n(179),a=(n(0),r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f9cc2c2f-5c70-4919-9178-6665823f8198"}})),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return a.post("follow/".concat(e))},unfollow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return a.delete("follow/".concat(e))},getProfile:function(){return console.warn("Absolete method, use profileAPI object"),i.getProfile(2)}},i={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile",e)}},s={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},o={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},26:function(e,t,n){e.exports={nav:"Navbar_nav__1mX75",item:"Navbar_item__Psgaj",activeLink:"Navbar_activeLink__1p-Tl"}},382:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,394)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},a=n(0),c=n.n(a),i=n(55),s=n.n(i),o=(n(196),n(8)),u=n(9),l=n(17),d=n(18),j=(n(197),n(13)),b=n(22),f=(n(198),n(1)),p=function(){return Object(f.jsx)("div",{children:"N_E_W_S"})},h=(n(200),function(){return Object(f.jsx)("div",{children:"M_U_S_I_C"})}),O=(n(201),function(){return Object(f.jsx)("div",{children:"S_E_T_T_I_N_G_S"})}),m=n(31),g=n(178),v=n.n(g),x=function(e){var t="/dialogs/"+e.id;return Object(f.jsx)("div",{children:Object(f.jsxs)(b.b,{to:t,children:[Object(f.jsx)("img",{className:v.a.image,src:e.image}),Object(f.jsx)("div",{children:e.name})]})})},_=n(126),w=n.n(_),y=function(e){var t=e.friends.map((function(e){return Object(f.jsx)(x,{name:e.name,image:e.image,id:e.id})}));return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{className:w.a.title,children:"Friends"}),Object(f.jsx)("div",{className:w.a.wrapper,children:t})]})},C=n(26),E=n.n(C),P=function(e){return Object(f.jsxs)("nav",{className:E.a.nav,children:[Object(f.jsx)("div",{className:"".concat(E.a.item," ").concat(E.a.active),children:Object(f.jsx)(b.b,{to:"/profile",activeClassName:E.a.activeLink,children:"Profile"})}),Object(f.jsx)("div",{className:E.a.item,children:Object(f.jsx)(b.b,{to:"/dialogs",activeClassName:E.a.activeLink,children:"Messages"})}),Object(f.jsx)("div",{className:E.a.item,children:Object(f.jsx)(b.b,{to:"/users",activeClassName:E.a.activeLink,children:"Users"})}),Object(f.jsx)("div",{className:E.a.item,children:Object(f.jsx)(b.b,{to:"/news",activeClassName:E.a.activeLink,children:"News"})}),Object(f.jsx)("div",{className:E.a.item,children:Object(f.jsx)(b.b,{to:"/music",activeClassName:E.a.activeLink,children:"Music"})}),Object(f.jsx)("div",{className:E.a.item,children:Object(f.jsx)(b.b,{to:"/settings",activeClassName:E.a.activeLink,children:"Settings"})}),Object(f.jsx)(y,{friends:e.friends})]})},S=Object(m.b)((function(e){return{friends:e.sidebar.friends}}),(function(e){return{}}))(P),k=n(10),N=n.n(k),I=n(25),A=n(14),U=n(5),T=n(23),F=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(U.a)(Object(U.a)({},e),r):e}))},L="FOLLOW",D="UNFOLLOW",R="SET_USERS",z="SET_CURRENT_PAGE",M="SET_USERS_TOTAL_COUNT",B="TOGGLE_IS_FETCHING",G="TOGGLE_IS_FOLLOWING_PROGRESS",q={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},V=function(e){return{type:L,userId:e}},H=function(e){return{type:D,userId:e}},X=function(e){return{type:B,isFetching:e}},W=function(e,t){return{type:G,fetch:e,userId:t}},J=function(){var e=Object(I.a)(N.a.mark((function e(t,n,r,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(W(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(W(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(U.a)(Object(U.a)({},e),{},{users:F(e.users,t.userId,"id",{followed:!0})});case D:return Object(U.a)(Object(U.a)({},e),{},{users:F(e.users,t.userId,"id",{followed:!1})});case R:return Object(U.a)(Object(U.a)({},e),{},{users:t.users});case z:return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.currentPage});case M:return Object(U.a)(Object(U.a)({},e),{},{totalUsersCount:t.totalCount});case B:return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.isFetching});case G:return Object(U.a)(Object(U.a)({},e),{},{followingInProgress:t.fetch?[].concat(Object(A.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},K=n(38),Z=n(21),Q=n(103),$=n.n(Q),ee=n(115),te=n.n(ee),ne=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,c=e.onPageChanged,i=e.portionSize,s=void 0===i?10:i,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/s),j=Object(a.useState)(1),b=Object(Z.a)(j,2),p=b[0],h=b[1],O=(p-1)*s+1,m=p*s;return Object(f.jsxs)("div",{className:$.a.paginator,children:[p>1&&Object(f.jsx)("button",{onClick:function(){h(p-1)},children:"PREV"}),u.filter((function(e){return e>=O&&e<=m})).map((function(e){return Object(f.jsxs)("span",{className:te()(Object(K.a)({},$.a.selectedPage,r===e),$.a.pageNumber),onClick:function(t){c(e)},children:[" ",e," "]},e)})),d>p&&Object(f.jsx)("button",{onClick:function(){h(p+1)},children:"NEXT"})]})},re=n(59),ae=n.n(re),ce=n.p+"static/media/avatar.60b92e78.jpg",ie=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(f.jsxs)("div",{className:ae.a.user,children:[Object(f.jsxs)("div",{className:ae.a.userLeftInfo,children:[Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/profile/"+t.id,children:Object(f.jsx)("img",{className:ae.a.userPhoto,src:null!=t.photos.small?t.photos.small:ce,alt:"there are an image"})})}),Object(f.jsx)("div",{children:t.followed?Object(f.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(f.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(f.jsxs)("div",{className:ae.a.userRightInfo,children:[Object(f.jsxs)("div",{className:ae.a.infoLeft,children:[Object(f.jsx)("div",{children:t.name}),Object(f.jsx)("div",{children:t.status})]}),Object(f.jsxs)("div",{className:ae.a.infoRight,children:[Object(f.jsx)("div",{children:"user.location.country"}),Object(f.jsx)("div",{children:"user.location.city"})]})]})]})},se=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,a=e.onPageChanged,c=e.users,i=e.followingInProgress,s=e.follow,o=e.unfollow;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Users"}),Object(f.jsx)(ne,{currentPage:t,onPageChanged:a,totalItemsCount:n,pageSize:r}),Object(f.jsx)("div",{children:c.map((function(e){return Object(f.jsx)(ie,{user:e,followingInProgress:i,follow:s,unfollow:o},e.id)}))})]})},oe=n(60),ue=(n(191),n(37)),le=(n(225),function(e){return e.usersPage.users}),de=function(e){return e.usersPage.pageSize},je=function(e){return e.usersPage.totalUsersCount},be=function(e){return e.usersPage.currentPage},fe=function(e){return e.usersPage.isFetching},pe=function(e){return e.usersPage.followingInProgress},he=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props.pageSize;e.props.setCurrentPage(t),e.props.requestUsers(t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[this.props.isFetching?Object(f.jsx)(oe.a,{}):null,Object(f.jsx)(se,{totalUsersCount:this.props.totalUsersCount,users:this.props.users,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress})]})}}]),n}(c.a.Component),Oe=Object(ue.d)(Object(m.b)((function(e){return{users:le(e),pageSize:de(e),totalUsersCount:je(e),currentPage:be(e),isFetching:fe(e),followingInProgress:pe(e)}}),{follow:function(e){return function(){var t=Object(I.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J(n,e,T.d.follow.bind(T.d),V);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(I.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J(n,e,T.d.unfollow.bind(T.d),H);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:z,currentPage:e}},toggleFollowingProgress:W,requestUsers:function(e,t){return function(){var n=Object(I.a)(N.a.mark((function n(r){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(X(!0)),n.next=3,T.d.getUsers(e,t);case 3:a=n.sent,r(X(!1)),r((i=a.items,{type:R,users:i})),r((c=a.totalCount,{type:M,totalCount:c}));case 7:case"end":return n.stop()}var c,i}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(he),me="socialNetwork/auth/SET_USER_DATA",ge="AUTENTIFICATION_ERROR",ve="GET_CAPTCHA_URL_SUCCESS",xe={userId:null,email:null,login:null,isAuth:!1,autentificationError:"",captchaUrl:null},_e=function(e,t,n,r){return{type:me,payload:{userId:e,email:t,login:n,isAuth:r}}},we=function(e){return{type:ve,payload:{captchaUrl:e}}},ye=function(){return function(){var e=Object(I.a)(N.a.mark((function e(t){var n,r,a,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,i=r.login,t(_e(a,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(I.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.c.getCaptchaUrl();case 2:n=e.sent,r=n.data.url,t(we(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(U.a)(Object(U.a)(Object(U.a)({},e),t.payload),{},{autentificationError:"",captchaUrl:null});case ge:return Object(U.a)(Object(U.a)({},e),{},{autentificationError:t.autentificationError});case ve:return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},Pe=n(127),Se=n.n(Pe),ke=function(e){return Object(f.jsxs)("header",{className:Se.a.header,children:[Object(f.jsx)("img",{src:"https://c0.klipartz.com/pngpicture/513/969/sticker-png-open-logo-phoenix-emblem-logo-fictional-character-%D1%84%D0%B5%D0%BD%D0%B8%D0%BA%D1%81-fantasy.png"}),Object(f.jsx)("div",{className:Se.a.loginBlock,children:e.isAuth?Object(f.jsxs)("div",{children:[e.login," - ",Object(f.jsx)("button",{onClick:e.logout,children:"LogOut"})," "]}):Object(f.jsx)(b.b,{to:"/login",children:"LOGIN"})})]})},Ne=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)(ke,Object(U.a)({},this.props))}}]),n}(c.a.Component),Ie=Object(m.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(I.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.logout();case 2:0===e.sent.data.resultCode&&t(_e(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ne),Ae=n(15),Ue=n(70),Te=n(71),Fe=n(170),Le=n.n(Fe),De=(n(381),function(e){var t=e.login,n=e.autentificationError,r=e.captchaUrl,a=Ue.b({login:Ue.c().required("Required"),password:Ue.c().required("Required"),rememberMe:Ue.a()});return Object(f.jsx)(Ae.d,{initialValues:{login:"",password:"",rememberMe:!1},validationSchema:a,onSubmit:function(e){t(e.login,e.password,e.rememberMe,e.captcha)},children:function(e){return Object(f.jsxs)(Ae.c,{children:[Object(f.jsx)(Te.a,{control:"input",type:"text",label:"",name:"login",placeholder:"your login"}),Object(f.jsx)(Te.a,{control:"input",type:"password",label:"",name:"password",placeholder:"your email"}),Object(f.jsx)(Te.a,{control:"checkbox_boolean",label:"Remember me",name:"rememberMe"}),r&&Object(f.jsx)("img",{src:r}),r&&Object(f.jsx)(Te.a,{control:"input",type:"text",label:"",name:"captcha",placeholder:"Symbols from image"}),n&&Object(f.jsx)("div",{className:Le.a.formSummaryError,children:n}),Object(f.jsx)("button",{type:"submit",disabled:!e.isValid,children:"Submit"})]})}})}),Re=Object(m.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl,autentificationError:e.auth.autentificationError}}),{login:function(e,t,n,r){return function(){var a=Object(I.a)(N.a.mark((function a(c){var i;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.a.login(e,t,n,r);case 2:0===(i=a.sent).data.resultCode?c(ye()):(10===i.data.resultCode&&c(Ce()),c((s=i.data.messages[0],{type:ge,autentificationError:s})));case 4:case"end":return a.stop()}var s}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,n=e.login,r=e.autentificationError,a=e.captchaUrl;return t?Object(f.jsx)(j.a,{to:"/profile"}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"_L-O-G-I-N_"}),Object(f.jsx)(De,{login:n,autentificationError:r,captchaUrl:a})]})})),ze="INITIALIZED_SUCCESS",Me={initialized:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(U.a)(Object(U.a)({},e),{},{initialized:!0});default:return e}},Ge=n(174),qe=n(131),Ve={friends:[{id:0,name:"Andrew",image:"https://i.pinimg.com/originals/60/06/36/600636cf543b2730eeffb634199db706.jpg"},{id:1,name:"Sasha",image:"https://i.pinimg.com/originals/30/24/f8/3024f8d283b734bd6b7e4fc5531fe2e9.png"},{id:2,name:"Sveta",image:"https://steamuserimages-a.akamaihd.net/ugc/958596576368807294/2CDA31196125EAE96EC9C65EEF847A60508D48AB/"}]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return e},Xe=n(190),We=Object(ue.c)({profilePage:qe.b,dialogsPage:Ge.a,sidebar:He,usersPage:Y,auth:Ee,app:Be}),Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.d,Ye=Object(ue.e)(We,Je(Object(ue.a)(Xe.a)));window.__store__=Ye;var Ke=Ye,Ze=function(e){return function(t){return Object(f.jsx)(c.a.Suspense,{fallback:Object(f.jsx)(oe.a,{}),children:Object(f.jsx)(e,Object(U.a)({},t))})}},Qe=c.a.lazy((function(){return n.e(4).then(n.bind(null,396))})),$e=c.a.lazy((function(){return n.e(3).then(n.bind(null,395))})),et=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e,t){alert("Some error occured")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(Ie,{}),Object(f.jsx)(S,{}),Object(f.jsx)("div",{className:"app-wrapper-content",children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(j.a,{to:"/profile"})}}),Object(f.jsx)(j.b,{path:"/profile/:userId?",render:Ze($e)}),Object(f.jsx)(j.b,{path:"/dialogs",render:Ze(Qe)}),Object(f.jsx)(j.b,{path:"/users",render:function(){return Object(f.jsx)(Oe,{})}}),Object(f.jsx)(j.b,{path:"/news",render:function(){return Object(f.jsx)(p,{})}}),Object(f.jsx)(j.b,{path:"/music",render:function(){return Object(f.jsx)(h,{})}}),Object(f.jsx)(j.b,{path:"/settings",render:function(){return Object(f.jsx)(O,{})}}),Object(f.jsx)(j.b,{path:"/login",render:function(){return Object(f.jsx)(Re,{})}}),Object(f.jsx)(j.b,{path:"*",render:function(){return Object(f.jsx)("div",{children:"404 Page Not Found"})}})]})})]}):Object(f.jsx)(oe.a,{})}}]),n}(c.a.Component),tt=Object(ue.d)(j.g,Object(m.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(ye());Promise.all([t]).then((function(){e({type:ze})}))}}}))(et),nt=function(){return Object(f.jsx)(b.a,{children:Object(f.jsx)(m.a,{store:Ke,children:Object(f.jsx)(tt,{})})})};s.a.render(Object(f.jsx)(nt,{}),document.getElementById("root")),r()},59:function(e,t,n){e.exports={user:"User_user__4vlLl",userPhoto:"User_userPhoto__3tXT_",userRightInfo:"User_userRightInfo__3yTs-"}},60:function(e,t,n){"use strict";n(0);var r=n(180),a=n.n(r),c=n.p+"static/media/spin_preloader.22c60bad.gif",i=n(1);t.a=function(){return Object(i.jsx)("div",{className:a.a.preloader_wrapper,children:Object(i.jsx)("img",{src:c,alt:"preloader_image"})})}},71:function(e,t,n){"use strict";var r=n(5),a=n(27),c=n(0),i=n.n(c),s=n(15),o=n(186),u=n.n(o),l=n(1);var d=function(e){var t=u.a.errorInField,n="".concat("error"," ").concat(t);return Object(l.jsx)("div",{className:n,children:e.children})};var j=function(e){var t=e.label,n=e.name,c=Object(a.a)(e,["label","name"]);return Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)(s.b,Object(r.a)({id:n,name:n},c)),Object(l.jsx)(s.a,{className:"errorMessage",component:d,name:n})]})};var b=function(e){var t=e.label,n=e.name,c=Object(a.a)(e,["label","name"]);return Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)(s.b,Object(r.a)({as:"textarea",id:n,name:n},c)),Object(l.jsx)(s.a,{component:d,name:n})]})};var f=function(e){var t=e.label,n=e.name,c=e.options,i=Object(a.a)(e,["label","name","options"]);return Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)(s.b,Object(r.a)(Object(r.a)({as:"select",id:n,name:n},i),{},{children:c.map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.key},e.value)}))})),Object(l.jsx)(s.a,{component:d,name:n})]})};var p=function(e){var t=e.label,n=e.name,c=e.options,o=Object(a.a)(e,["label","name","options"]);return Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{children:t}),Object(l.jsx)(s.b,{name:n,children:function(e){var t=e.field;return c.map((function(e){return Object(l.jsxs)(i.a.Fragment,{children:[Object(l.jsx)("input",Object(r.a)(Object(r.a)(Object(r.a)({type:"radio",id:e.value},t),o),{},{value:e.value,checked:t.value===e.value})),Object(l.jsx)("label",{htmlFor:e.value,children:e.key})]},e.key)}))}}),Object(l.jsx)(s.a,{component:d,name:n})]})};var h=n(187),O=n.n(h);n(324);var m=function(e){var t=e.label,n=e.name,c=Object(a.a)(e,["label","name"]);return Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)(s.b,{name:n,children:function(e){var t=e.form,a=e.field,i=t.setFieldValue,s=a.value;return Object(l.jsx)(O.a,Object(r.a)(Object(r.a)(Object(r.a)({id:n},a),c),{},{selected:s,onChange:function(e){return i(n,e)}}))}}),Object(l.jsx)(s.a,{component:d,name:n})]})};var g=function(e){var t=e.label,n=e.name;return Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)(s.b,{type:"checkbox",name:n}),Object(l.jsx)("label",{htmlFor:n,children:t})]})};t.a=function(e){var t=e.control,n=Object(a.a)(e,["control"]);switch(t){case"input":return Object(l.jsx)(j,Object(r.a)({},n));case"textarea":return Object(l.jsx)(b,Object(r.a)({},n));case"select":return Object(l.jsx)(f,Object(r.a)({},n));case"radio":return Object(l.jsx)(p,Object(r.a)({},n));case"checkbox_boolean":return Object(l.jsx)(g,Object(r.a)({},n));case"date":return Object(l.jsx)(m,Object(r.a)({},n));default:return null}}}},[[382,1,2]]]);
//# sourceMappingURL=main.cf28fdf5.chunk.js.map